"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/cache/refresh";
exports.ids = ["pages/api/cache/refresh"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcache%2Frefresh&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcache%2Frefresh.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcache%2Frefresh&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcache%2Frefresh.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_cache_refresh_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/cache/refresh.ts */ \"(api)/./pages/api/cache/refresh.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_cache_refresh_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_cache_refresh_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/cache/refresh\",\n        pathname: \"/api/cache/refresh\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_cache_refresh_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhY2hlJTJGcmVmcmVzaCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGY2FjaGUlMkZyZWZyZXNoLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3lEO0FBQ3pEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV0ZmxpeC1jbG9uZS8/YzVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2NhY2hlL3JlZnJlc2gudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jYWNoZS9yZWZyZXNoXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2FjaGUvcmVmcmVzaFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcache%2Frefresh&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcache%2Frefresh.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/cache/refresh.ts":
/*!************************************!*\
  !*** ./pages/api/cache/refresh.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_apiWithCache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/apiWithCache */ \"(api)/./utils/apiWithCache.ts\");\n/* harmony import */ var _utils_cacheManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/cacheManager */ \"(api)/./utils/cacheManager.ts\");\n\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        try {\n            console.log(\"\\uD83D\\uDD04 بدء تحديث البيانات من TMDB...\");\n            // تحديث جميع البيانات\n            await _utils_apiWithCache__WEBPACK_IMPORTED_MODULE_0__[\"default\"].refreshData();\n            // الحصول على معلومات الكاش\n            const cacheInfo = _utils_cacheManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getInfo();\n            res.status(200).json({\n                success: true,\n                message: \"تم تحديث جميع البيانات بنجاح\",\n                cacheInfo: {\n                    totalFiles: cacheInfo.totalFiles,\n                    totalSize: `${cacheInfo.totalSize} KB`\n                }\n            });\n        } catch (error) {\n            console.error(\"خطأ في تحديث البيانات:\", error);\n            res.status(500).json({\n                success: false,\n                message: \"حدث خطأ أثناء تحديث البيانات\",\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            });\n        }\n    } else if (req.method === \"GET\") {\n        // الحصول على معلومات الكاش\n        const cacheInfo = _utils_cacheManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getInfo();\n        res.status(200).json({\n            success: true,\n            cacheInfo: {\n                totalFiles: cacheInfo.totalFiles,\n                totalSize: `${cacheInfo.totalSize} KB`\n            }\n        });\n    } else if (req.method === \"DELETE\") {\n        try {\n            // مسح جميع ملفات الكاش\n            _utils_cacheManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].clear();\n            res.status(200).json({\n                success: true,\n                message: \"تم مسح جميع ملفات الكاش\"\n            });\n        } catch (error) {\n            res.status(500).json({\n                success: false,\n                message: \"حدث خطأ أثناء مسح الكاش\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\",\n            \"DELETE\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2FjaGUvcmVmcmVzaC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDeUQ7QUFDRjtBQUV4QyxlQUFlRSxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixJQUFJO1lBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztZQUVaLHNCQUFzQjtZQUN0QixNQUFNUCx1RUFBMEI7WUFFaEMsMkJBQTJCO1lBQzNCLE1BQU1TLFlBQVlSLG1FQUFvQjtZQUV0Q0csSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJDLFNBQVM7Z0JBQ1RDLFNBQVM7Z0JBQ1RMLFdBQVc7b0JBQ1RNLFlBQVlOLFVBQVVNLFVBQVU7b0JBQ2hDQyxXQUFXLENBQUMsRUFBRVAsVUFBVU8sU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDeEM7WUFDRjtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkWCxRQUFRVyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4Q2IsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJDLFNBQVM7Z0JBQ1RDLFNBQVM7Z0JBQ1RHLE9BQU9BLGlCQUFpQkMsUUFBUUQsTUFBTUgsT0FBTyxHQUFHO1lBQ2xEO1FBQ0Y7SUFDRixPQUFPLElBQUlYLElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQy9CLDJCQUEyQjtRQUMzQixNQUFNSSxZQUFZUixtRUFBb0I7UUFFdENHLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVEosV0FBVztnQkFDVE0sWUFBWU4sVUFBVU0sVUFBVTtnQkFDaENDLFdBQVcsQ0FBQyxFQUFFUCxVQUFVTyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3hDO1FBQ0Y7SUFDRixPQUFPLElBQUliLElBQUlFLE1BQU0sS0FBSyxVQUFVO1FBQ2xDLElBQUk7WUFDRix1QkFBdUI7WUFDdkJKLGlFQUFrQjtZQUVsQkcsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJDLFNBQVM7Z0JBQ1RDLFNBQVM7WUFDWDtRQUNGLEVBQUUsT0FBT0csT0FBTztZQUNkYixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQkMsU0FBUztnQkFDVEMsU0FBUztZQUNYO1FBQ0Y7SUFDRixPQUFPO1FBQ0xWLElBQUlnQixTQUFTLENBQUMsU0FBUztZQUFDO1lBQU87WUFBUTtTQUFTO1FBQ2hEaEIsSUFBSU8sTUFBTSxDQUFDLEtBQUtVLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRWxCLElBQUlFLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDeEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25ldGZsaXgtY2xvbmUvLi9wYWdlcy9hcGkvY2FjaGUvcmVmcmVzaC50cz80YTc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCBjYWNoZWRSZXF1ZXN0cyBmcm9tICcuLi8uLi8uLi91dGlscy9hcGlXaXRoQ2FjaGUnO1xuaW1wb3J0IGNhY2hlTWFuYWdlciBmcm9tICcuLi8uLi8uLi91dGlscy9jYWNoZU1hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQg2KjYr9ihINiq2K3Yr9mK2Ksg2KfZhNio2YrYp9mG2KfYqiDZhdmGIFRNREIuLi4nKTtcbiAgICAgIFxuICAgICAgLy8g2KrYrdiv2YrYqyDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqXG4gICAgICBhd2FpdCBjYWNoZWRSZXF1ZXN0cy5yZWZyZXNoRGF0YSgpO1xuICAgICAgXG4gICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINmF2LnZhNmI2YXYp9iqINin2YTZg9in2LRcbiAgICAgIGNvbnN0IGNhY2hlSW5mbyA9IGNhY2hlTWFuYWdlci5nZXRJbmZvKCk7XG4gICAgICBcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ9iq2YUg2KrYrdiv2YrYqyDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqINio2YbYrNin2K0nLFxuICAgICAgICBjYWNoZUluZm86IHtcbiAgICAgICAgICB0b3RhbEZpbGVzOiBjYWNoZUluZm8udG90YWxGaWxlcyxcbiAgICAgICAgICB0b3RhbFNpemU6IGAke2NhY2hlSW5mby50b3RhbFNpemV9IEtCYFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdiv2YrYqyDYp9mE2KjZitin2YbYp9iqOicsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICfYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdiv2YrYqyDYp9mE2KjZitin2YbYp9iqJyxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINmF2LnZhNmI2YXYp9iqINin2YTZg9in2LRcbiAgICBjb25zdCBjYWNoZUluZm8gPSBjYWNoZU1hbmFnZXIuZ2V0SW5mbygpO1xuICAgIFxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBjYWNoZUluZm86IHtcbiAgICAgICAgdG90YWxGaWxlczogY2FjaGVJbmZvLnRvdGFsRmlsZXMsXG4gICAgICAgIHRvdGFsU2l6ZTogYCR7Y2FjaGVJbmZvLnRvdGFsU2l6ZX0gS0JgXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ0RFTEVURScpIHtcbiAgICB0cnkge1xuICAgICAgLy8g2YXYs9itINis2YXZiti5INmF2YTZgdin2Kog2KfZhNmD2KfYtFxuICAgICAgY2FjaGVNYW5hZ2VyLmNsZWFyKCk7XG4gICAgICBcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ9iq2YUg2YXYs9itINis2YXZiti5INmF2YTZgdin2Kog2KfZhNmD2KfYtCdcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAn2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINmF2LPYrSDYp9mE2YPYp9i0J1xuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCcsICdERUxFVEUnXSk7XG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJjYWNoZWRSZXF1ZXN0cyIsImNhY2hlTWFuYWdlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJjb25zb2xlIiwibG9nIiwicmVmcmVzaERhdGEiLCJjYWNoZUluZm8iLCJnZXRJbmZvIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidG90YWxGaWxlcyIsInRvdGFsU2l6ZSIsImVycm9yIiwiRXJyb3IiLCJjbGVhciIsInNldEhlYWRlciIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/cache/refresh.ts\n");

/***/ }),

/***/ "(api)/./utils/apiWithCache.ts":
/*!*******************************!*\
  !*** ./utils/apiWithCache.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cachedRequests: () => (/* binding */ cachedRequests),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchWithCache: () => (/* binding */ fetchWithCache)\n/* harmony export */ });\n/* harmony import */ var _cacheManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cacheManager */ \"(api)/./utils/cacheManager.ts\");\n\nconst API_KEY = process.env.TMDB_API_KEY;\nconst BASE_URL = \"https://api.themoviedb.org/3\";\n// مدة انتهاء صلاحية الكاش (30 دقيقة)\nconst CACHE_DURATION = 30 * 60 * 1000;\nasync function fetchWithCache(endpoint, cacheKey, options = {}) {\n    const { useCache = true, cacheDuration = CACHE_DURATION, forceRefresh = false } = options;\n    // إذا كان forceRefresh فلا نستخدم الكاش\n    if (!forceRefresh && useCache) {\n        const cachedData = _cacheManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(cacheKey);\n        if (cachedData) {\n            console.log(`🚀 تحميل سريع من الكاش: ${cacheKey}`);\n            return cachedData;\n        }\n    }\n    try {\n        console.log(`🌐 جلب بيانات جديدة من TMDB: ${cacheKey}`);\n        const response = await fetch(endpoint);\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        // حفظ البيانات في الكاش\n        if (useCache) {\n            _cacheManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set(cacheKey, data, cacheDuration);\n        }\n        return data;\n    } catch (error) {\n        console.error(`خطأ في جلب البيانات لـ ${cacheKey}:`, error);\n        // في حالة الخطأ، نحاول استخدام البيانات المحفوظة حتى لو انتهت صلاحيتها\n        const fallbackData = _cacheManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(cacheKey);\n        if (fallbackData) {\n            console.log(`⚠ استخدام البيانات القديمة من الكاش: ${cacheKey}`);\n            return fallbackData;\n        }\n        throw error;\n    }\n}\n// طلبات TMDB مع التخزين المؤقت\nconst cachedRequests = {\n    // الأفلام الرائجة\n    fetchTrending: ()=>fetchWithCache(`${BASE_URL}/trending/all/week?api_key=${API_KEY}&language=en-US`, \"trending_movies\"),\n    // Netflix Originals\n    fetchNetflixOriginals: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&with_networks=213`, \"netflix_originals\"),\n    // الأفلام الأعلى تقييماً\n    fetchTopRated: ()=>fetchWithCache(`${BASE_URL}/movie/top_rated?api_key=${API_KEY}&language=en-US`, \"top_rated_movies\"),\n    // أفلام الأكشن\n    fetchActionMovies: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=28`, \"action_movies\"),\n    // أفلام الكوميديا\n    fetchComedyMovies: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=35`, \"comedy_movies\"),\n    // أفلام الرعب\n    fetchHorrorMovies: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=27`, \"horror_movies\"),\n    // أفلام الرومانسية\n    fetchRomanceMovies: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=10749`, \"romance_movies\"),\n    // الأفلام الوثائقية\n    fetchDocumentaries: ()=>fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=99`, \"documentaries\"),\n    // بحث عن فيلم معين\n    searchMovie: (query)=>fetchWithCache(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(query)}`, `search_${query.replace(/\\s+/g, \"_\").toLowerCase()}`),\n    // تفاصيل فيلم معين\n    getMovieDetails: (movieId)=>fetchWithCache(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`, `movie_details_${movieId}`),\n    // تحديث البيانات يدوياً (force refresh)\n    refreshData: async ()=>{\n        console.log(\"\\uD83D\\uDD04 تحديث جميع البيانات...\");\n        const promises = [\n            fetchWithCache(`${BASE_URL}/trending/all/week?api_key=${API_KEY}&language=en-US`, \"trending_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&with_networks=213`, \"netflix_originals\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/movie/top_rated?api_key=${API_KEY}&language=en-US`, \"top_rated_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=28`, \"action_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=35`, \"comedy_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=27`, \"horror_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=10749`, \"romance_movies\", {\n                forceRefresh: true\n            }),\n            fetchWithCache(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=en-US&with_genres=99`, \"documentaries\", {\n                forceRefresh: true\n            })\n        ];\n        await Promise.all(promises);\n        console.log(\"✅ تم تحديث جميع البيانات\");\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cachedRequests);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVEsaUNBQWlDLENBQUMsRUFBRSxrQkFBa0I7Z0JBQUVZLGNBQWM7WUFBSztZQUN4SU4sZUFBZSxDQUFDLEVBQUVGLFNBQVMsd0JBQXdCLEVBQUVKLFFBQVEsOEJBQThCLENBQUMsRUFBRSxpQkFBaUI7Z0JBQUVZLGNBQWM7WUFBSztTQUNySTtRQUVELE1BQU1pQyxRQUFRQyxHQUFHLENBQUNGO1FBQ2xCN0IsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7QUFDRixFQUFFO0FBRUYsaUVBQWVXLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXRmbGl4LWNsb25lLy4vdXRpbHMvYXBpV2l0aENhY2hlLnRzPzJhYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNhY2hlTWFuYWdlciBmcm9tICcuL2NhY2hlTWFuYWdlcic7XG5cbmNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5UTURCX0FQSV9LRVk7XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvM1wiO1xuXG4vLyDZhdiv2Kkg2KfZhtiq2YfYp9ihINi12YTYp9it2YrYqSDYp9mE2YPYp9i0ICgzMCDYr9mC2YrZgtipKVxuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAzMCAqIDYwICogMTAwMDtcblxuaW50ZXJmYWNlIEZldGNoT3B0aW9ucyB7XG4gIHVzZUNhY2hlPzogYm9vbGVhbjtcbiAgY2FjaGVEdXJhdGlvbj86IG51bWJlcjtcbiAgZm9yY2VSZWZyZXNoPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aENhY2hlKFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgY2FjaGVLZXk6IHN0cmluZywgXG4gIG9wdGlvbnM6IEZldGNoT3B0aW9ucyA9IHt9XG4pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCB7XG4gICAgdXNlQ2FjaGUgPSB0cnVlLFxuICAgIGNhY2hlRHVyYXRpb24gPSBDQUNIRV9EVVJBVElPTixcbiAgICBmb3JjZVJlZnJlc2ggPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcblxuICAvLyDYpdiw2Kcg2YPYp9mGIGZvcmNlUmVmcmVzaCDZgdmE2Kcg2YbYs9iq2K7Yr9mFINin2YTZg9in2LRcbiAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgdXNlQ2FjaGUpIHtcbiAgICBjb25zdCBjYWNoZWREYXRhID0gY2FjaGVNYW5hZ2VyLmdldChjYWNoZUtleSk7XG4gICAgaWYgKGNhY2hlZERhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5qAINiq2K3ZhdmK2YQg2LPYsdmK2Lkg2YXZhiDYp9mE2YPYp9i0OiAke2NhY2hlS2V5fWApO1xuICAgICAgcmV0dXJuIGNhY2hlZERhdGE7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhg8J+MkCDYrNmE2Kgg2KjZitin2YbYp9iqINis2K/Zitiv2Kkg2YXZhiBUTURCOiAke2NhY2hlS2V5fWApO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBcbiAgICAvLyDYrdmB2Lgg2KfZhNio2YrYp9mG2KfYqiDZgdmKINin2YTZg9in2LRcbiAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgIGNhY2hlTWFuYWdlci5zZXQoY2FjaGVLZXksIGRhdGEsIGNhY2hlRHVyYXRpb24pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGDYrti32KMg2YHZiiDYrNmE2Kgg2KfZhNio2YrYp9mG2KfYqiDZhNmAICR7Y2FjaGVLZXl9OmAsIGVycm9yKTtcbiAgICBcbiAgICAvLyDZgdmKINit2KfZhNipINin2YTYrti32KPYjCDZhtit2KfZiNmEINin2LPYqtiu2K/Yp9mFINin2YTYqNmK2KfZhtin2Kog2KfZhNmF2K3ZgdmI2LjYqSDYrdiq2Ykg2YTZiCDYp9mG2KrZh9iqINi12YTYp9it2YrYqtmH2KdcbiAgICBjb25zdCBmYWxsYmFja0RhdGEgPSBjYWNoZU1hbmFnZXIuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhg4pqgINin2LPYqtiu2K/Yp9mFINin2YTYqNmK2KfZhtin2Kog2KfZhNmC2K/ZitmF2Kkg2YXZhiDYp9mE2YPYp9i0OiAke2NhY2hlS2V5fWApO1xuICAgICAgcmV0dXJuIGZhbGxiYWNrRGF0YTtcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8g2LfZhNio2KfYqiBUTURCINmF2Lkg2KfZhNiq2K7YstmK2YYg2KfZhNmF2KTZgtiqXG5leHBvcnQgY29uc3QgY2FjaGVkUmVxdWVzdHMgPSB7XG4gIC8vINin2YTYo9mB2YTYp9mFINin2YTYsdin2KbYrNipXG4gIGZldGNoVHJlbmRpbmc6ICgpID0+IGZldGNoV2l0aENhY2hlKFxuICAgIGAke0JBU0VfVVJMfS90cmVuZGluZy9hbGwvd2Vlaz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVNgLFxuICAgICd0cmVuZGluZ19tb3ZpZXMnXG4gICksXG5cbiAgLy8gTmV0ZmxpeCBPcmlnaW5hbHNcbiAgZmV0Y2hOZXRmbGl4T3JpZ2luYWxzOiAoKSA9PiBmZXRjaFdpdGhDYWNoZShcbiAgICBgJHtCQVNFX1VSTH0vZGlzY292ZXIvbW92aWU/YXBpX2tleT0ke0FQSV9LRVl9JndpdGhfbmV0d29ya3M9MjEzYCxcbiAgICAnbmV0ZmxpeF9vcmlnaW5hbHMnXG4gICksXG5cbiAgLy8g2KfZhNij2YHZhNin2YUg2KfZhNij2LnZhNmJINiq2YLZitmK2YXYp9mLXG4gIGZldGNoVG9wUmF0ZWQ6ICgpID0+IGZldGNoV2l0aENhY2hlKFxuICAgIGAke0JBU0VfVVJMfS9tb3ZpZS90b3BfcmF0ZWQ/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCxcbiAgICAndG9wX3JhdGVkX21vdmllcydcbiAgKSxcblxuICAvLyDYo9mB2YTYp9mFINin2YTYo9mD2LTZhlxuICBmZXRjaEFjdGlvbk1vdmllczogKCkgPT4gZmV0Y2hXaXRoQ2FjaGUoXG4gICAgYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZ3aXRoX2dlbnJlcz0yOGAsXG4gICAgJ2FjdGlvbl9tb3ZpZXMnXG4gICksXG5cbiAgLy8g2KPZgdmE2KfZhSDYp9mE2YPZiNmF2YrYr9mK2KdcbiAgZmV0Y2hDb21lZHlNb3ZpZXM6ICgpID0+IGZldGNoV2l0aENhY2hlKFxuICAgIGAke0JBU0VfVVJMfS9kaXNjb3Zlci9tb3ZpZT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmd2l0aF9nZW5yZXM9MzVgLFxuICAgICdjb21lZHlfbW92aWVzJ1xuICApLFxuXG4gIC8vINij2YHZhNin2YUg2KfZhNix2LnYqFxuICBmZXRjaEhvcnJvck1vdmllczogKCkgPT4gZmV0Y2hXaXRoQ2FjaGUoXG4gICAgYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZ3aXRoX2dlbnJlcz0yN2AsXG4gICAgJ2hvcnJvcl9tb3ZpZXMnXG4gICksXG5cbiAgLy8g2KPZgdmE2KfZhSDYp9mE2LHZiNmF2KfZhtiz2YrYqVxuICBmZXRjaFJvbWFuY2VNb3ZpZXM6ICgpID0+IGZldGNoV2l0aENhY2hlKFxuICAgIGAke0JBU0VfVVJMfS9kaXNjb3Zlci9tb3ZpZT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmd2l0aF9nZW5yZXM9MTA3NDlgLFxuICAgICdyb21hbmNlX21vdmllcydcbiAgKSxcblxuICAvLyDYp9mE2KPZgdmE2KfZhSDYp9mE2YjYq9in2KbZgtmK2KlcbiAgZmV0Y2hEb2N1bWVudGFyaWVzOiAoKSA9PiBmZXRjaFdpdGhDYWNoZShcbiAgICBgJHtCQVNFX1VSTH0vZGlzY292ZXIvbW92aWU/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJndpdGhfZ2VucmVzPTk5YCxcbiAgICAnZG9jdW1lbnRhcmllcydcbiAgKSxcblxuICAvLyDYqNit2Ksg2LnZhiDZgdmK2YTZhSDZhdi52YrZhlxuICBzZWFyY2hNb3ZpZTogKHF1ZXJ5OiBzdHJpbmcpID0+IGZldGNoV2l0aENhY2hlKFxuICAgIGAke0JBU0VfVVJMfS9zZWFyY2gvbW92aWU/YXBpX2tleT0ke0FQSV9LRVl9JnF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gLFxuICAgIGBzZWFyY2hfJHtxdWVyeS5yZXBsYWNlKC9cXHMrL2csICdfJykudG9Mb3dlckNhc2UoKX1gXG4gICksXG5cbiAgLy8g2KrZgdin2LXZitmEINmB2YrZhNmFINmF2LnZitmGXG4gIGdldE1vdmllRGV0YWlsczogKG1vdmllSWQ6IG51bWJlcikgPT4gZmV0Y2hXaXRoQ2FjaGUoXG4gICAgYCR7QkFTRV9VUkx9L21vdmllLyR7bW92aWVJZH0/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCxcbiAgICBgbW92aWVfZGV0YWlsc18ke21vdmllSWR9YFxuICApLFxuXG4gIC8vINiq2K3Yr9mK2Ksg2KfZhNio2YrYp9mG2KfYqiDZitiv2YjZitin2YsgKGZvcmNlIHJlZnJlc2gpXG4gIHJlZnJlc2hEYXRhOiBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQg2KrYrdiv2YrYqyDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqLi4uJyk7XG4gICAgXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXG4gICAgICBmZXRjaFdpdGhDYWNoZShgJHtCQVNFX1VSTH0vdHJlbmRpbmcvYWxsL3dlZWs/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCwgJ3RyZW5kaW5nX21vdmllcycsIHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pLFxuICAgICAgZmV0Y2hXaXRoQ2FjaGUoYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZ3aXRoX25ldHdvcmtzPTIxM2AsICduZXRmbGl4X29yaWdpbmFscycsIHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pLFxuICAgICAgZmV0Y2hXaXRoQ2FjaGUoYCR7QkFTRV9VUkx9L21vdmllL3RvcF9yYXRlZD9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVNgLCAndG9wX3JhdGVkX21vdmllcycsIHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pLFxuICAgICAgZmV0Y2hXaXRoQ2FjaGUoYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZ3aXRoX2dlbnJlcz0yOGAsICdhY3Rpb25fbW92aWVzJywgeyBmb3JjZVJlZnJlc2g6IHRydWUgfSksXG4gICAgICBmZXRjaFdpdGhDYWNoZShgJHtCQVNFX1VSTH0vZGlzY292ZXIvbW92aWU/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJndpdGhfZ2VucmVzPTM1YCwgJ2NvbWVkeV9tb3ZpZXMnLCB7IGZvcmNlUmVmcmVzaDogdHJ1ZSB9KSxcbiAgICAgIGZldGNoV2l0aENhY2hlKGAke0JBU0VfVVJMfS9kaXNjb3Zlci9tb3ZpZT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmd2l0aF9nZW5yZXM9MjdgLCAnaG9ycm9yX21vdmllcycsIHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pLFxuICAgICAgZmV0Y2hXaXRoQ2FjaGUoYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZ3aXRoX2dlbnJlcz0xMDc0OWAsICdyb21hbmNlX21vdmllcycsIHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pLFxuICAgICAgZmV0Y2hXaXRoQ2FjaGUoYCR7QkFTRV9VUkx9L2Rpc2NvdmVyL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZ3aXRoX2dlbnJlcz05OWAsICdkb2N1bWVudGFyaWVzJywgeyBmb3JjZVJlZnJlc2g6IHRydWUgfSlcbiAgICBdO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYqtit2K/ZitirINis2YXZiti5INin2YTYqNmK2KfZhtin2KonKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2FjaGVkUmVxdWVzdHM7Il0sIm5hbWVzIjpbImNhY2hlTWFuYWdlciIsIkFQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiVE1EQl9BUElfS0VZIiwiQkFTRV9VUkwiLCJDQUNIRV9EVVJBVElPTiIsImZldGNoV2l0aENhY2hlIiwiZW5kcG9pbnQiLCJjYWNoZUtleSIsIm9wdGlvbnMiLCJ1c2VDYWNoZSIsImNhY2hlRHVyYXRpb24iLCJmb3JjZVJlZnJlc2giLCJjYWNoZWREYXRhIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJzZXQiLCJlcnJvciIsImZhbGxiYWNrRGF0YSIsImNhY2hlZFJlcXVlc3RzIiwiZmV0Y2hUcmVuZGluZyIsImZldGNoTmV0ZmxpeE9yaWdpbmFscyIsImZldGNoVG9wUmF0ZWQiLCJmZXRjaEFjdGlvbk1vdmllcyIsImZldGNoQ29tZWR5TW92aWVzIiwiZmV0Y2hIb3Jyb3JNb3ZpZXMiLCJmZXRjaFJvbWFuY2VNb3ZpZXMiLCJmZXRjaERvY3VtZW50YXJpZXMiLCJzZWFyY2hNb3ZpZSIsInF1ZXJ5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZ2V0TW92aWVEZXRhaWxzIiwibW92aWVJZCIsInJlZnJlc2hEYXRhIiwicHJvbWlzZXMiLCJQcm9taXNlIiwiYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/apiWithCache.ts\n");

/***/ }),

/***/ "(api)/./utils/cacheManager.ts":
/*!*******************************!*\
  !*** ./utils/cacheManager.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheManager: () => (/* binding */ CacheManager),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass CacheManager {\n    constructor(){\n        this.cacheDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"cache\");\n        this.ensureCacheDirectory();\n    }\n    ensureCacheDirectory() {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(this.cacheDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(this.cacheDir, {\n                recursive: true\n            });\n        }\n    }\n    getCacheFilePath(key) {\n        const safeKey = key.replace(/[^a-zA-Z0-9-_]/g, \"_\");\n        return path__WEBPACK_IMPORTED_MODULE_1___default().join(this.cacheDir, `${safeKey}.json`);\n    }\n    // حفظ البيانات في الكاش\n    set(key, data, expiresIn = 30 * 60 * 1000) {\n        const cacheData = {\n            data,\n            timestamp: Date.now(),\n            expiresIn\n        };\n        const filePath = this.getCacheFilePath(key);\n        try {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(cacheData, null, 2));\n            console.log(`✓ Cached data for: ${key}`);\n        } catch (error) {\n            console.error(`خطأ في حفظ الكاش لـ ${key}:`, error);\n        }\n    }\n    // جلب البيانات من الكاش\n    get(key) {\n        const filePath = this.getCacheFilePath(key);\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            return null;\n        }\n        try {\n            const fileContent = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n            const cacheData = JSON.parse(fileContent);\n            // فحص انتهاء صلاحية الكاش\n            if (Date.now() - cacheData.timestamp > cacheData.expiresIn) {\n                console.log(`⚠ Cache expired for: ${key}`);\n                this.delete(key);\n                return null;\n            }\n            console.log(`✓ Loading from cache: ${key}`);\n            return cacheData.data;\n        } catch (error) {\n            console.error(`خطأ في قراءة الكاش لـ ${key}:`, error);\n            return null;\n        }\n    }\n    // فحص إذا كانت البيانات موجودة وصالحة\n    has(key) {\n        return this.get(key) !== null;\n    }\n    // حذف ملف كاش معين\n    delete(key) {\n        const filePath = this.getCacheFilePath(key);\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(filePath);\n            console.log(`🗑 Deleted cache: ${key}`);\n        }\n    }\n    // مسح جميع ملفات الكاش\n    clear() {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(this.cacheDir)) {\n            const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(this.cacheDir);\n            files.forEach((file)=>{\n                fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(path__WEBPACK_IMPORTED_MODULE_1___default().join(this.cacheDir, file));\n            });\n            console.log(\"\\uD83D\\uDDD1 Cleared all cache files\");\n        }\n    }\n    // الحصول على معلومات الكاش\n    getInfo() {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(this.cacheDir)) {\n            return {\n                totalFiles: 0,\n                totalSize: 0\n            };\n        }\n        const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(this.cacheDir);\n        let totalSize = 0;\n        files.forEach((file)=>{\n            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(this.cacheDir, file);\n            const stats = fs__WEBPACK_IMPORTED_MODULE_0___default().statSync(filePath);\n            totalSize += stats.size;\n        });\n        return {\n            totalFiles: files.length,\n            totalSize: Math.round(totalSize / 1024) // KB\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new CacheManager());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFDa0MsTUFBTUUsT0FBTyxDQUFDQyxDQUFBQTtnQkFDWnpDLG9EQUFhLENBQUNDLGdEQUFTLENBQUMsSUFBSSxDQUFDRyxRQUFRLEVBQUVxQztZQUN6QztZQUNBZCxRQUFRQyxHQUFHLENBQUM7UUFDZDtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCYyxVQUFxRDtRQUNuRCxJQUFJLENBQUMxQyxvREFBYSxDQUFDLElBQUksQ0FBQ0ksUUFBUSxHQUFHO1lBQ2pDLE9BQU87Z0JBQUV1QyxZQUFZO2dCQUFHQyxXQUFXO1lBQUU7UUFDdkM7UUFFQSxNQUFNTixRQUFRdEMscURBQWMsQ0FBQyxJQUFJLENBQUNJLFFBQVE7UUFDMUMsSUFBSXdDLFlBQVk7UUFFaEJOLE1BQU1FLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDWixNQUFNbEIsV0FBV3RCLGdEQUFTLENBQUMsSUFBSSxDQUFDRyxRQUFRLEVBQUVxQztZQUMxQyxNQUFNSSxRQUFRN0Msa0RBQVcsQ0FBQ3VCO1lBQzFCcUIsYUFBYUMsTUFBTUUsSUFBSTtRQUN6QjtRQUVBLE9BQU87WUFDTEosWUFBWUwsTUFBTVUsTUFBTTtZQUN4QkosV0FBV0ssS0FBS0MsS0FBSyxDQUFDTixZQUFZLE1BQU0sS0FBSztRQUMvQztJQUNGO0FBQ0Y7QUFFQSxpRUFBZSxJQUFJMUMsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25ldGZsaXgtY2xvbmUvLi91dGlscy9jYWNoZU1hbmFnZXIudHM/NDIyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FjaGVEYXRhIHtcbiAgZGF0YTogYW55O1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgZXhwaXJlc0luOiBudW1iZXI7IC8vIG1pbGxpc2Vjb25kc1xufVxuXG5leHBvcnQgY2xhc3MgQ2FjaGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBjYWNoZURpcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2FjaGVEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2NhY2hlJyk7XG4gICAgdGhpcy5lbnN1cmVDYWNoZURpcmVjdG9yeSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmVDYWNoZURpcmVjdG9yeSgpOiB2b2lkIHtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmModGhpcy5jYWNoZURpcikpIHtcbiAgICAgIGZzLm1rZGlyU3luYyh0aGlzLmNhY2hlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldENhY2hlRmlsZVBhdGgoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNhZmVLZXkgPSBrZXkucmVwbGFjZSgvW15hLXpBLVowLTktX10vZywgJ18nKTtcbiAgICByZXR1cm4gcGF0aC5qb2luKHRoaXMuY2FjaGVEaXIsIGAke3NhZmVLZXl9Lmpzb25gKTtcbiAgfVxuXG4gIC8vINit2YHYuCDYp9mE2KjZitin2YbYp9iqINmB2Yog2KfZhNmD2KfYtFxuICBzZXQoa2V5OiBzdHJpbmcsIGRhdGE6IGFueSwgZXhwaXJlc0luOiBudW1iZXIgPSAzMCAqIDYwICogMTAwMCk6IHZvaWQge1xuICAgIGNvbnN0IGNhY2hlRGF0YTogQ2FjaGVEYXRhID0ge1xuICAgICAgZGF0YSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGV4cGlyZXNJblxuICAgIH07XG5cbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMuZ2V0Q2FjaGVGaWxlUGF0aChrZXkpO1xuICAgIHRyeSB7XG4gICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShjYWNoZURhdGEsIG51bGwsIDIpKTtcbiAgICAgIGNvbnNvbGUubG9nKGDinJMgQ2FjaGVkIGRhdGEgZm9yOiAke2tleX1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihg2K7Yt9ijINmB2Yog2K3Zgdi4INin2YTZg9in2LQg2YTZgCAke2tleX06YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vINis2YTYqCDYp9mE2KjZitin2YbYp9iqINmF2YYg2KfZhNmD2KfYtFxuICBnZXQoa2V5OiBzdHJpbmcpOiBhbnkgfCBudWxsIHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMuZ2V0Q2FjaGVGaWxlUGF0aChrZXkpO1xuICAgIFxuICAgIGlmICghZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlQ29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKTtcbiAgICAgIGNvbnN0IGNhY2hlRGF0YTogQ2FjaGVEYXRhID0gSlNPTi5wYXJzZShmaWxlQ29udGVudCk7XG4gICAgICBcbiAgICAgIC8vINmB2K3YtSDYp9mG2KrZh9in2KEg2LXZhNin2K3ZitipINin2YTZg9in2LRcbiAgICAgIGlmIChEYXRlLm5vdygpIC0gY2FjaGVEYXRhLnRpbWVzdGFtcCA+IGNhY2hlRGF0YS5leHBpcmVzSW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKaoCBDYWNoZSBleHBpcmVkIGZvcjogJHtrZXl9YCk7XG4gICAgICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg4pyTIExvYWRpbmcgZnJvbSBjYWNoZTogJHtrZXl9YCk7XG4gICAgICByZXR1cm4gY2FjaGVEYXRhLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYNiu2LfYoyDZgdmKINmC2LHYp9ih2Kkg2KfZhNmD2KfYtCDZhNmAICR7a2V5fTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyDZgdit2LUg2KXYsNinINmD2KfZhtiqINin2YTYqNmK2KfZhtin2Kog2YXZiNis2YjYr9ipINmI2LXYp9mE2K3YqVxuICBoYXMoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoa2V5KSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8vINit2LDZgSDZhdmE2YEg2YPYp9i0INmF2LnZitmGXG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5nZXRDYWNoZUZpbGVQYXRoKGtleSk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgICBmcy51bmxpbmtTeW5jKGZpbGVQYXRoKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5eRIERlbGV0ZWQgY2FjaGU6ICR7a2V5fWApO1xuICAgIH1cbiAgfVxuXG4gIC8vINmF2LPYrSDYrNmF2YrYuSDZhdmE2YHYp9iqINin2YTZg9in2LRcbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmModGhpcy5jYWNoZURpcikpIHtcbiAgICAgIGNvbnN0IGZpbGVzID0gZnMucmVhZGRpclN5bmModGhpcy5jYWNoZURpcik7XG4gICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBmcy51bmxpbmtTeW5jKHBhdGguam9pbih0aGlzLmNhY2hlRGlyLCBmaWxlKSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5eRIENsZWFyZWQgYWxsIGNhY2hlIGZpbGVzJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g2KfZhNit2LXZiNmEINi52YTZiSDZhdi52YTZiNmF2KfYqiDYp9mE2YPYp9i0XG4gIGdldEluZm8oKTogeyB0b3RhbEZpbGVzOiBudW1iZXI7IHRvdGFsU2l6ZTogbnVtYmVyIH0ge1xuICAgIGlmICghZnMuZXhpc3RzU3luYyh0aGlzLmNhY2hlRGlyKSkge1xuICAgICAgcmV0dXJuIHsgdG90YWxGaWxlczogMCwgdG90YWxTaXplOiAwIH07XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyh0aGlzLmNhY2hlRGlyKTtcbiAgICBsZXQgdG90YWxTaXplID0gMDtcblxuICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbih0aGlzLmNhY2hlRGlyLCBmaWxlKTtcbiAgICAgIGNvbnN0IHN0YXRzID0gZnMuc3RhdFN5bmMoZmlsZVBhdGgpO1xuICAgICAgdG90YWxTaXplICs9IHN0YXRzLnNpemU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxGaWxlczogZmlsZXMubGVuZ3RoLFxuICAgICAgdG90YWxTaXplOiBNYXRoLnJvdW5kKHRvdGFsU2l6ZSAvIDEwMjQpIC8vIEtCXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FjaGVNYW5hZ2VyKCk7Il0sIm5hbWVzIjpbImZzIiwicGF0aCIsIkNhY2hlTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiY2FjaGVEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImVuc3VyZUNhY2hlRGlyZWN0b3J5IiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImdldENhY2hlRmlsZVBhdGgiLCJrZXkiLCJzYWZlS2V5IiwicmVwbGFjZSIsInNldCIsImRhdGEiLCJleHBpcmVzSW4iLCJjYWNoZURhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZmlsZVBhdGgiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImdldCIsImZpbGVDb250ZW50IiwicmVhZEZpbGVTeW5jIiwicGFyc2UiLCJkZWxldGUiLCJoYXMiLCJ1bmxpbmtTeW5jIiwiY2xlYXIiLCJmaWxlcyIsInJlYWRkaXJTeW5jIiwiZm9yRWFjaCIsImZpbGUiLCJnZXRJbmZvIiwidG90YWxGaWxlcyIsInRvdGFsU2l6ZSIsInN0YXRzIiwic3RhdFN5bmMiLCJzaXplIiwibGVuZ3RoIiwiTWF0aCIsInJvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/cacheManager.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcache%2Frefresh&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcache%2Frefresh.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();